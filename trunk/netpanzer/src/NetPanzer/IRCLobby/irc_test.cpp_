

// sample program to use this class...

#include <unistd.h>
#define WITHOUT_NETPANZER
#include "IRCLobby.cpp"


int main()
{
    IRCLobby *lobby=new IRCLobby("irc.freenode.net","testnpsrv","#netpanzerlob");
    sleep(30);

    SDL_mutexP(lobby->game_servers_mutex);
    GameServerList::iterator i;
    GameServerList* serverlist = lobby->game_servers;
    for(i=serverlist->begin(); i!=serverlist->end(); i++) {
        const GameServer* server = &(*i);
        printf("%s is running %s (%i/%i) on %s:%i\n",
            i->user.c_str(),i->map.c_str(),
            i->playercount,i->max_players,
            i->host.c_str(),i->port
            );
    }
    SDL_mutexV(lobby->game_servers_mutex);


    delete lobby;
}

